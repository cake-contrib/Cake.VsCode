<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/Cake.VsCode/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/Cake.VsCode/assets/img/favicon.ico" type="image/x-icon">
        <title>Docs - Examples</title>
        <link href="/Cake.VsCode/assets/css/mermaid.css" rel="stylesheet">
        <link href="/Cake.VsCode/assets/css/highlight.css" rel="stylesheet">
        <link href="/Cake.VsCode/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/Cake.VsCode/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/Cake.VsCode/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/Cake.VsCode/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/Cake.VsCode/assets/css/override.css" rel="stylesheet">
        <script src="/Cake.VsCode/assets/js/jQuery-2.2.3.min.js"></script>
        <script src="/Cake.VsCode/assets/js/bootstrap.min.js"></script>        
        <script src="/Cake.VsCode/assets/js/app.min.js"></script>         
        <script src="/Cake.VsCode/assets/js/highlight.pack.js"></script>   
        <script src="/Cake.VsCode/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/Cake.VsCode/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/Cake.VsCode/assets/js/mermaid.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/Cake.VsCode/assets/js/html5shiv.min.js"></script>
        <script src="/Cake.VsCode/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/Cake.VsCode/" class="logo">
                            <span>Docs</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/Cake.VsCode/docs">Documentation</a></li>
        <li><a href="/Cake.VsCode/blog">Blog</a></li>
        <li><a href="/Cake.VsCode/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/cake-contrib/Cake.VsCode/tree/develop/docs/input/docs/usage/examples.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#build-script">Build Script</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">                    
                    

                    <ul class="sidebar-menu">
                        
                <li class="treeview active">
                    <a href="/Cake.VsCode/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                                        <li class="selected"><a href="/Cake.VsCode/docs/usage/examples">Examples</a></li>

                    </ul>
                </li>

                    </ul>
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



	<section class="content-header">
		<h1>Examples</h1>
	</section>
	<section class="content">
		<h1 id="build-script">Build Script</h1>
<p>In order to make use of the Cake.VsCode Addin, you will need to first use the <code>#addin</code> preprocessor to install Cake.VsCode, but once that is done, you can directly use both the <code>VscePackage</code> and <code>VscePublish</code> commands.</p>
<div class="admonition note">
    <p class="first admonition-title">Note</p>
    <p class="last">
        You can see an example of this Addin in action in the [build.cake](https://github.com/gep13/chocolatey-vscode/blob/master/build.cake) file.
    </p>
</div>
<h2 id="vscepackage">VscePackage</h2>
<p>Due to the way in which vsce works, it is possible to execute the command line utility directly, without any additional settings.  This will simply package the <code>package.json</code> file, and output the resulting <code>vsix</code> file to the same directory.</p>
<pre><code class="language-csharp">#addin Cake.VsCode

Task("Package-Extension")
    .Does(() =&gt;
{
    VscePackage();
});
</code></pre>
<p>If you want some more control over how this works though, you can use the following:</p>
<pre><code class="language-csharp">#addin Cake.VsCode

var version = "0.1.0";
var buildResultDir = Directory("./build")
var packageFile = File("chocolatey-vscode-" + version + ".vsix");

Task("Package-Extension")
    .IsDependentOn("Find-Version-Number") 
    .Does(() =&gt;
{
    VscePackage(new VscePackageSettings() {
        OutputFilePath = buildResultDir + packageFile,
        BaseContentUrl = new Uri("http://mydomain.com"),
        BaseImagesUrll = new Uri("http://mydomain.com/images")
    });
});
</code></pre>
<h2 id="vscepublish">VscePublish</h2>
<p>Again, due to the way in which vsce works, it is possible to run <code>vsce publish</code> without any paramaters.  It will simply use the latest <code>vsix</code> file contained within the directory being executed on, and it will assume that the publisher has already been logged in.</p>
<pre><code class="language-csharp">#addin Cake.VsCode

Task("Publish-Extension")
    .Does(() =&gt;
{    
    VscePublish();
});
</code></pre>
<p>However, it is more realistic that you want to run this on some type of build server, in which case, the publisher is NOT already going to be logged in.  To account for this, you can pass the publishers Personal Access Token into the VscePublish command, as follows:</p>
<pre><code class="language-csharp">#addin Cake.VsCode

Task("Publish-Extension")
    .IsDependentOn("Create-Release-Notes")
    .Does(() =&gt;
{
    var personalAccessToken = EnvironmentVariable("VSCE_PAT");
    
    VscePublish(new VscePublishSettings(){
        PersonalAccessToken = personalAccessToken
    });
});
</code></pre>
<div class="admonition note">
    <p class="first admonition-title">Note</p>
    <p class="last">
        Here the Personal Access Token is being recovered from an Environmental variable where it is located.
    </p>
</div>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam.io">Wyam</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).load(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        htmlLabels: false,
                        useMaxWidth:false
                    }
                });  
                mermaid.init(undefined, ".mermaid")
                $('svg').addClass('img-responsive');
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });
            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>